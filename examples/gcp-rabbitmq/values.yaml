# HyperFleet GCP + RabbitMQ Example
#
# Use this for GCP deployments with in-cluster RabbitMQ broker.
# Suitable for development or environments without Pub/Sub access.
#
# Usage:
#   cd charts/hyperfleet-gcp
#   helm dependency update
#   helm install hyperfleet . -f ../../examples/gcp-rabbitmq/values.yaml \
#     -n hyperfleet-system --create-namespace

# Override image registry/tags for custom builds
base:
  global:
    image:
      registry: "quay.io/YOUR_QUAY_USERNAME"
      tag: ""  # Leave empty, override per-component below

    # HyperFleet API endpoint - used by sentinel and all adapters
    hyperfleetApi:
      baseUrl: "http://hyperfleet-hyperfleet-api:8000"
      version: "v1"

    broker:
      type: rabbitmq
      rabbitmq:
        enabled: true
      googlepubsub:
        enabled: false

  hyperfleet-api:
    enabled: true
    image:
      repository: hyperfleet-api
      tag: "dev-API_GIT_SHA"

  sentinel:
    enabled: true
    image:
      registry: "quay.io/YOUR_QUAY_USERNAME"
      repository: sentinel
      tag: "dev-SENTINEL_GIT_SHA"
    broker:
      topic: "hyperfleet-clusters"

  adapter-landing-zone:
    enabled: true
    image:
      repository: adapter-landing-zone
      tag: "dev-ADAPTER_GIT_SHA"

  rabbitmq:
    enabled: true
    auth:
      username: hyperfleet
      password: hyperfleet-dev-password

validation-gcp:
  enabled: true
  deploymentMode: "dummy"
  image:
    registry: "quay.io/YOUR_QUAY_USERNAME"
    repository: adapter-validation-gcp
    tag: "dev-ADAPTER_GIT_SHA"
  broker:
    type: rabbitmq
    rabbitmq:
      url: "amqp://hyperfleet:hyperfleet-dev-password@hyperfleet-rabbitmq:5672/"
